State_ID,State_Name,Client_Says_Example,Client_Intent,Detection_Checks,Therapist_Action,RAG_Query,Fallback_Response,Framework_Trigger,Next_State_If,Next_State_Else,Implementation_Notes
1.1,Goal Inquiry,"I'm stressed, overwhelmed",session_start,"body_words, thinking_mode, tense",ask_goal,dr_q_goal_inquiry,"What do we want our time together to accomplish? What do we want to get better for you?",none,goal_stated→1.2,vague_problem→1.1_redirect,"Ask what client wants to achieve"
1.1_redirect,Redirect to Goal,"Work is hectic, pressure",describes_problem,"body_words, stressor_type",redirect_to_goal,dr_q_redirect_outcome,"I hear {problem}. What do you WANT to feel instead?",none,goal_stated→1.2,continues→repeat,"Client said problem not goal - redirect"
1.2,Build Vision,"I want to feel peaceful",states_goal,extract_desired_state,build_vision,dr_q_vision,"So we want you to be {peaceful, present, grounded}. Does that make sense?",none,accepts→1.3,clarify→explain,"Build detailed future vision"
1.3,Get Permission,"Yes that's exactly what I want",accepts_vision,check_agreement,ask_permission,dr_q_permission,"Would it be okay with you?",none,yes→1.1.5,hesitant→reassure,"Ask permission before proceeding"
1.1.5,Psycho-Education,"[permission granted]",permission_granted,understanding_check,provide_education,dr_q_psycho_education,"Here's what's happening in your brain. When you face a threat, your brain activates a survival response - just like a zebra running from a lion. Your body floods with stress hormones, muscles tense, heart races. The difference? The zebra shakes it off once the lion is gone. Humans often don't. The stress response keeps running, sometimes for years, even when the threat is over. That's what we're addressing - your brain still responding to old threats as if they're happening now. Make sense?",none,understood→2.1,confused→re-explain,"DR Q METHODOLOGY: Psycho-education using zebra/lion metaphor BEFORE exploring problem. Explains brain's survival response."
2.1,Problem Inquiry,"Yes makes sense",education_understood,"body_words, thinking_mode",ask_problem,dr_q_problem,"What's been making it hard? What's been happening?",none,has_body→2.2,no_body→2.1_seek,"Understand what's been difficult"
2.1_seek,Seek Body,"Deadlines, pressure, too much",no_body_awareness,no_body_words,guide_to_body,dr_q_to_body,"When you think about {problem}, where do you feel it in your body?",TRIGGER: card_game (attempt 3),body_mentioned→2.2,3_attempts→3.1,"Guide from external to body. MAX 3 attempts then trigger card_game OR skip to 3.1 (alpha will develop body awareness)"
2.2,Body Location,"Chest feels tight, leg pain",mentions_body,body_words=true,ask_location,dr_q_location,"Where in your body?",none,location→2.3,vague→clarify,"Get specific location"
2.3,Sensation Quality,"Right leg, below knee",gives_location,extract_location,ask_sensation,dr_q_sensation,"What kind of sensation? Ache? Tight? Heavy?",none,sensation→2.4,unclear→repeat,"Understand sensation quality"
2.4,Present Check,"It's an ache, heavy weight",describes_sensation,extract_sensation,affirm_and_check,dr_q_present_check,"That's right, {ache}. You're feeling that right now, aren't you?",none,present→2.5,not_present→guide,"Affirm + check present awareness"
2.5,Pattern Inquiry,"Yes I feel it now",present_aware,"present=true, body_aware=true",ask_pattern,dr_q_how_know,"How do you know when {problem} happens? What's happening in that moment?",none,pattern_clear→3.1,unclear→guide,"Identify trigger→thought→body"
3.1,Assess Readiness,"Calendar triggers 'what if' thoughts, then tightness",pattern_identified,pattern_complete,check_ready,dr_q_ready,"Anything else I should understand?",none,ready→3.2,more→continue,"Check readiness for alpha"
3.2,Introduce Alpha,"No, that covers it",ready_for_alpha,all_criteria_met,introduce_alpha,dr_q_alpha_intro,"We'll do a short process to put your body in rest state. This helps healing. Willing to try?",none,willing→3.3,hesitant→explain,"Introduce alpha with permission"
3.3,Execute Alpha,"Okay I'm ready",accepts_alpha,ready,execute_alpha,none,"Let's take a moment together. I'll guide you through a short process to help your body find rest. Just follow along with me.",TRIGGER: alpha_sequence,complete→3.4,interrupted→handle,"TRIGGER alpha_sequence - framework handles all steps + body checks. Fallback if framework fails to trigger"
3.4,Post-Alpha,"[alpha complete]",alpha_done,alpha_complete,ask_experience,dr_q_post_alpha,"In those moments your eyes were closed, what did you notice?",none,positive→3.5,neutral→compare,"Ask about experience"
3.5,Link to Vision,"I felt free, nothing bothering",positive_response,extract_experience,link_vision,dr_q_link,"You felt {free}. That's where we're headed - you who's {free}.",none,linked→3.6,needs_more→explore,"Link experience to vision"
3.6,Compare Progress,"[vision linked]",linked,sentiment_check,compare_sentiment,dr_q_compare,"How's your body now compared to when we started?",none,improved→4.1,same→more_work,"Compare start vs now"
4.1,Ready Stage 2,"Better, calmer",improved,"improvement=true, complete",transition,dr_q_transition,"Good. Whatever's causing {problem}, we want to stop it. Ready to understand what's happening?",none,stage2→begin,not_ready→continue,"Transition to Stage 2 - metaphors triggered strategically in Stage 2 based on situation"
THINK,Redirect Thinking,"I think it's because when I was...",thinking_mode,"thinking_words=['i think','because']",redirect_thinking,dr_q_think_redirect,"Rather than thinking, what are you FEELING right now?",none (attempt 3→3.2),feeling→continue,3_attempts→3.2,"PRIORITY - can happen ANY state. MAX 3 attempts then direct to alpha 3.2 (grounding)"
PAST,Redirect Past,"Back then when I was young...",past_tense,"past_words=['back then','when i was']",redirect_past,dr_q_past_redirect,"That was then. Right now, what are you FEELING?",none (attempt 3→3.2),present→continue,3_attempts→3.2,"PRIORITY - can happen ANY state. MAX 3 attempts then direct to alpha 3.2 (present anchoring)"
AFFIRM,Just Affirm,"I feel tightness in chest now",body_present,"body_aware=true, present=true",affirm_only,dr_q_affirm,"That's right.",none,continue→natural,n/a,"Use 60%+ instead of asking. Natural flow"
EMOTION,Strong Emotion,"I'm SO STRESSED!!! Can't TAKE it!!!",high_intensity,"caps, exclamations, intensity",validate_ground,dr_q_validate,"That's right, there's a lot there. Take a breath...",none,calm→continue,escalated→support,"Validate + ground when high intensity"
CRY,Client Crying,"[crying]",crying,crying_detected,normalize_cry,dr_q_cry,"This is difficult stuff. Makes sense.",none,calm→continue_previous,upset→more_support,"Normalize tears"
SILENT,Not Speaking,"Um... [long pause]",silence,incomplete_response,prompt_or_cards,dr_q_prompt,"Take your time... What are you noticing?",TRIGGER: card_game (if continues),speaks→continue,still_silent→offer_cards,"Gentle prompt. If continues silent → trigger card_game"
OFF,Off Topic,"Did you see the game?",off_topic,topic_check,redirect_gently,dr_q_redirect,"I appreciate that. Back to what we're working on...",none,back→continue,still_off→firmer,"Gentle redirect"
VALID,Seek Validation,"Is this normal?",validation,seeking_validation,normalize,dr_q_normalize,"Absolutely. Makes complete sense.",none,reassured→continue,needs_more→explain,"Normalize experience"
RELATION,Relational Pattern,"Need to make everyone happy",people_pleasing,relational_issue,explore_internal,dr_q_relational,"When you're trying to make everyone happy, what do you feel? Where in your body?",none,body→continue,external→redirect,"For relational issues - go to body"
SELFHARM,Self-Harm Mention,"I want to hurt myself / end it all",self_harm_detected,"self_harm_words=['hurt myself','kill myself','end it','not worth living']",safety_protocol,none,"I hear you're having thoughts of hurting yourself. Your safety is important. Let's talk about this.",TRIGGER: no_harm,engaged→assess_safety,crisis→CRISIS,"SAFETY PROTOCOL - only trigger no_harm for actual self-harm mentions"
CRISIS,Acute Crisis,"[incoherent/severe panic/manic]",crisis_state,"incoherent, severe_panic, manic_speech",crisis_assess,none,"I hear you're having a really hard time right now. Take a breath with me. Are you safe?",TRIGGER: no_harm (if unsafe),safe_calm→continue,unsafe→emergency,"CRISIS: Incoherent speech, severe panic, manic episode. Assess safety immediately"
RESISTANCE,Client Resistant,"This isn't helping / waste of time",resistant,"skepticism, not_helping",address_resistance,dr_q_resistance,"I hear this doesn't feel helpful yet. Trust the process for a moment...",none,willing→continue,still_resistant→explain_method,"Address therapeutic resistance and skepticism"
RAMBLING,Excessive Detail,"Well back in 1987 when... [5+ minutes]",rambling,"excessive_length, no_body_reference",gentle_interrupt,dr_q_interrupt,"I appreciate that context. Let me ask - when you think about all that, where do you feel it?",none,body_mentioned→2.2,still_rambling→firmer,"Interrupt rambling gently, redirect to body"
